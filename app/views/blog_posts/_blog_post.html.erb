<div id="<%= dom_id blog_post %>"
     class="bg-white rounded-xl shadow-sm hover:shadow-md transition border border-gray-100 overflow-hidden flex flex-col h-full">

  <% if blog_post.banner_image.attached? %>
    <%= link_to blog_post_path(blog_post) do %>
      <%# image container fixed height, object-cover ensures nice crop %>
      <div class="w-full h-48 bg-gray-100 overflow-hidden">
        <% if defined?(ImageProcessing) %>
          <%= image_tag blog_post.banner_image.variant(resize_to_fill: [1200, 400]),
              alt: blog_post.title,
              class: "w-full h-full object-cover" %>
        <% else %>
          <%= image_tag blog_post.banner_image,
              alt: blog_post.title,
              class: "w-full h-full object-cover" %>
        <% end %>
      </div>
    <% end %>
  <% end %>

  <div class="p-5 flex-1 flex flex-col">
    <h2 class="text-xl font-bold mb-2 hover:text-blue-600">
      <%= link_to blog_post.title, blog_post_path(blog_post) %>
    </h2>

    <p class="text-gray-500 text-sm mb-3">
      <%= blog_post.created_at.strftime("%B %d, %Y") %>
    </p>

    <div class="text-gray-700 mb-4 prose max-w-none">
      <%= excerpt_for(blog_post, 150) %>
    </div>

    <div class="mt-auto flex items-center justify-between text-sm text-gray-600 pt-3 border-t">
      <span>ðŸ’¬ <%= blog_post.respond_to?(:comments) ? blog_post.comments.count : 0 %> comments</span>
      <%= link_to "Read more â†’", blog_post_path(blog_post),
              class: "text-blue-600 font-medium hover:underline" %>
    </div>
  </div>
</div>